<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chocolate Day Romance</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }

        body {
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a0f0a 0%, #2c1a10 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* Romantic Hearts Background */
        .hearts-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .heart {
            position: absolute;
            color: rgba(255, 77, 141, 0.2);
            font-size: 20px;
            animation: floatUp 20s linear infinite;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.5;
            }
            90% {
                opacity: 0.5;
            }
            100% {
                transform: translateY(-100px) translateX(20px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Main Container */
        .container {
            text-align: center;
            padding: 20px;
            max-width: 800px;
            width: 100%;
            z-index: 10;
        }

        /* Header */
        .header {
            margin-bottom: 30px;
        }

        .title {
            color: #FFD700;
            font-size: 3rem;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
            margin-bottom: 10px;
        }

        .subtitle {
            color: #D2691E;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        /* Love Names */
        .love-names {
            font-size: 2.5rem;
            color: #ff4d8d;
            font-family: 'Brush Script MT', cursive;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(255, 77, 141, 0.3);
            animation: pulse 2s infinite alternate;
        }

        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.05); }
        }

        /* Chocolate Container */
        .chocolate-container {
            width: 300px;
            height: 500px;
            margin: 30px auto;
            perspective: 1000px;
        }

        .chocolate-3d {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(15deg) rotateY(0deg);
            transition: transform 0.1s;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: rotateX(15deg) rotateY(0deg) translateY(0); }
            50% { transform: rotateX(15deg) rotateY(0deg) translateY(-20px); }
        }

        .chocolate-face {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
            overflow: hidden;
            backface-visibility: visible;
        }

        .front-face {
            background: linear-gradient(to bottom, #FFF8F0 0%, #F5E6D3 100%);
            transform: translateZ(15px);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 -5px 10px rgba(0, 0, 0, 0.1),
                inset 0 5px 10px rgba(255, 255, 255, 0.8);
            border: 3px solid rgba(210, 180, 140, 0.8);
        }

        .back-face {
            background: linear-gradient(to bottom, #E8D0B3 0%, #DDC4A3 100%);
            transform: rotateY(180deg) translateZ(15px);
            border: 3px solid rgba(190, 160, 120, 0.8);
        }

        .right-face {
            transform: rotateY(90deg) translateZ(150px);
            width: 30px;
            background: linear-gradient(to right, #E8D0B3 0%, #DDC4A3 100%);
        }

        .left-face {
            transform: rotateY(-90deg) translateZ(150px);
            width: 30px;
            background: linear-gradient(to right, #DDC4A3 0%, #E8D0B3 100%);
        }

        .top-face {
            transform: rotateX(90deg) translateZ(250px);
            height: 30px;
            background: linear-gradient(to bottom, #FFF8F0 0%, #F5E6D3 100%);
        }

        .bottom-face {
            transform: rotateX(-90deg) translateZ(250px);
            height: 30px;
            background: linear-gradient(to bottom, #DDC4A3 0%, #E8D0B3 100%);
        }

        /* Chocolate Segments */
        .chocolate-segments {
            display: flex;
            flex-direction: column;
            height: 100%;
            justify-content: space-between;
        }

        .segment {
            flex: 1;
            margin: 3px 0;
            background-color: rgba(255, 255, 255, 0.4);
            border-radius: 8px;
            border: 2px solid rgba(210, 180, 140, 0.5);
        }

        /* Bite Mask */
        .bite-mask {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: transparent;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
            transition: clip-path 0.5s ease;
            z-index: 2;
            pointer-events: none;
        }

        /* Bite Counter */
        .bite-counter {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #8B4513, #D2691E);
            color: #FFD700;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            z-index: 3;
            transform: translateZ(20px);
            border: 2px solid #FFD700;
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(45deg, #8B4513, #D2691E);
            color: #FFD700;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }

        /* Instructions */
        .instructions {
            background: rgba(26, 15, 10, 0.8);
            padding: 15px;
            border-radius: 10px;
            margin: 20px auto;
            max-width: 500px;
            border: 1px solid rgba(210, 105, 30, 0.3);
        }

        .instruction {
            color: #D2691E;
            margin: 8px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .instruction i {
            color: #FFD700;
        }

        /* Crumbs */
        .crumbs-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px;
            pointer-events: none;
        }

        .crumb {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #F5E6D3;
            border-radius: 50%;
            bottom: 0;
            opacity: 0;
        }

        /* Popup */
        .popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .popup.active {
            opacity: 1;
            visibility: visible;
        }

        .popup-content {
            background: linear-gradient(135deg, #2c1a10 0%, #1a0f0a 100%);
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            border: 2px solid #D2691E;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .popup-title {
            color: #FFD700;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .popup-message {
            color: #D2691E;
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .popup-btn {
            background: linear-gradient(45deg, #8B4513, #D2691E);
            color: #FFD700;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .popup-btn:hover {
            transform: scale(1.05);
        }

        /* Footer */
        .footer {
            margin-top: 30px;
            color: #8B4513;
            font-size: 0.9rem;
            text-align: center;
        }

        /* Secret Background */
        .secret-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 77, 141, 0);
            transition: background 2s ease;
            pointer-events: none;
            z-index: 5;
        }

        .secret-bg.active {
            background: rgba(255, 77, 141, 0.1);
        }

        .secret-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0) rotateY(180deg);
            color: rgba(255, 77, 141, 0);
            font-size: 4rem;
            text-shadow: 0 0 20px rgba(255, 77, 141, 0.5);
            transition: all 1s ease;
            z-index: 6;
            pointer-events: none;
        }

        .secret-text.active {
            transform: translate(-50%, -50%) scale(1) rotateY(0deg);
            color: rgba(255, 77, 141, 0.8);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .chocolate-container {
                width: 250px;
                height: 400px;
            }
            
            .title {
                font-size: 2.2rem;
            }
            
            .love-names {
                font-size: 2rem;
            }
            
            .right-face {
                transform: rotateY(90deg) translateZ(125px);
            }
            
            .left-face {
                transform: rotateY(-90deg) translateZ(125px);
            }
            
            .top-face {
                transform: rotateX(90deg) translateZ(200px);
            }
            
            .bottom-face {
                transform: rotateX(-90deg) translateZ(200px);
            }
        }
    </style>
</head>
<body>
    <!-- Hearts Background -->
    <div class="hearts-bg" id="heartsBg"></div>
    
    <!-- Secret Background Effect -->
    <div class="secret-bg" id="secretBg"></div>
    <div class="secret-text" id="secretText">
        <div style="text-align: center;">
            <div>üíã</div>
            <div style="font-size: 1.5rem; margin-top: 10px;">Passion's Desire</div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 class="title"><i class="fas fa-heart"></i> Chocolate Day <i class="fas fa-heart"></i></h1>
            <p class="subtitle">A Sweet Romantic Experience</p>
            <div class="love-names">HARSH ‚ù§Ô∏è ANABEL</div>
        </div>

        <!-- Instructions -->
        <div class="instructions">
            <div class="instruction">
                <i class="fas fa-mouse-pointer"></i>
                <span>Click chocolate to take bites</span>
            </div>
            <div class="instruction">
                <i class="fas fa-arrows-alt"></i>
                <span>Drag to rotate 3D view</span>
            </div>
            <div class="instruction">
                <i class="fas fa-eye"></i>
                <span>Rotate 360¬∞ to discover secret</span>
            </div>
        </div>

        <!-- Chocolate -->
        <div class="chocolate-container" id="chocolateContainer">
            <div class="chocolate-3d" id="chocolate3d">
                <div class="bite-counter" id="biteCounter">5</div>
                
                <!-- Front Face -->
                <div class="chocolate-face front-face">
                    <div class="bite-mask" id="biteMask"></div>
                    <div class="chocolate-segments">
                        <div class="segment"></div>
                        <div class="segment"></div>
                        <div class="segment"></div>
                        <div class="segment"></div>
                        <div class="segment"></div>
                    </div>
                </div>
                
                <!-- Back Face -->
                <div class="chocolate-face back-face">
                    <div class="chocolate-segments">
                        <div class="segment"></div>
                        <div class="segment"></div>
                        <div class="segment"></div>
                        <div class="segment"></div>
                        <div class="segment"></div>
                    </div>
                </div>
                
                <!-- Side Faces -->
                <div class="chocolate-face right-face"></div>
                <div class="chocolate-face left-face"></div>
                
                <!-- Top and Bottom -->
                <div class="chocolate-face top-face"></div>
                <div class="chocolate-face bottom-face"></div>
            </div>
        </div>
        
        <!-- Crumbs Container -->
        <div class="crumbs-container" id="crumbsContainer"></div>

        <!-- Controls -->
        <div class="controls">
            <button class="control-btn" id="rotateBtn">
                <i class="fas fa-redo"></i> Auto Rotate
            </button>
            <button class="control-btn" id="resetBtn">
                <i class="fas fa-sync-alt"></i> Reset View
            </button>
            <button class="control-btn" id="soundBtn">
                <i class="fas fa-volume-up"></i> Sound On
            </button>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Made with <i class="fas fa-heart" style="color:#ff4d8d;"></i> for Chocolate Day</p>
            <p style="opacity: 0.7; font-size: 0.8rem; margin-top: 5px;">
                Drag to explore the romantic 3D space
            </p>
        </div>
    </div>

    <!-- Popup -->
    <div class="popup" id="popup">
        <div class="popup-content">
            <h2 class="popup-title">Happy Chocolate Day! üç´</h2>
            <p class="popup-message" id="popupMessage">Chocolate is sweet, but love is sweeter!</p>
            <button class="popup-btn" id="closePopup">Continue Sweet Journey</button>
        </div>
    </div>

    <!-- Audio -->
    <audio id="biteSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-biting-into-crispy-food-2243.mp3" type="audio/mpeg">
    </audio>
    <audio id="romanticSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-romantic-heartbeat-1154.mp3" type="audio/mpeg">
    </audio>
    <audio id="secretSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-magic-sparkle-300.mp3" type="audio/mpeg">
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const chocolate3d = document.getElementById('chocolate3d');
            const chocolateContainer = document.getElementById('chocolateContainer');
            const biteMask = document.getElementById('biteMask');
            const biteCounter = document.getElementById('biteCounter');
            const heartsBg = document.getElementById('heartsBg');
            const crumbsContainer = document.getElementById('crumbsContainer');
            const popup = document.getElementById('popup');
            const popupMessage = document.getElementById('popupMessage');
            const closePopupBtn = document.getElementById('closePopup');
            const rotateBtn = document.getElementById('rotateBtn');
            const resetBtn = document.getElementById('resetBtn');
            const soundBtn = document.getElementById('soundBtn');
            const secretBg = document.getElementById('secretBg');
            const secretText = document.getElementById('secretText');
            
            // Audio
            const biteSound = document.getElementById('biteSound');
            const romanticSound = document.getElementById('romanticSound');
            const secretSound = document.getElementById('secretSound');
            
            // Game State
            let bitesTaken = 0;
            const totalBites = 5;
            let isDragging = false;
            let previousMouseX = 0;
            let previousMouseY = 0;
            let rotateX = 15;
            let rotateY = 0;
            let autoRotate = false;
            let soundEnabled = true;
            let totalRotation = 0;
            let secretRevealed = false;
            
            // Messages
            const messages = [
                "Every bite of chocolate reminds me of our sweet moments together!",
                "Life is like chocolate - better when shared with someone special!",
                "Your love is sweeter than the finest chocolate!",
                "With you, every day feels like chocolate day!",
                "Our love story is the sweetest chocolate of all!"
            ];
            
            // Initialize
            createHearts();
            biteMask.style.clipPath = 'polygon(0 0, 100% 0, 100% 100%, 0 100%)';
            updateRotation();
            
            // Create Hearts Background
            function createHearts() {
                for (let i = 0; i < 25; i++) {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.animationDelay = Math.random() * 20 + 's';
                    heart.style.fontSize = (10 + Math.random() * 30) + 'px';
                    heartsBg.appendChild(heart);
                }
            }
            
            // Rotation
            chocolateContainer.addEventListener('mousedown', startDrag);
            chocolateContainer.addEventListener('touchstart', startDragTouch);
            document.addEventListener('mousemove', drag);
            document.addEventListener('touchmove', dragTouch);
            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchend', stopDrag);
            
            function startDrag(e) {
                isDragging = true;
                previousMouseX = e.clientX;
                previousMouseY = e.clientY;
                chocolateContainer.style.cursor = 'grabbing';
                e.preventDefault();
            }
            
            function startDragTouch(e) {
                if (e.touches.length === 1) {
                    isDragging = true;
                    previousMouseX = e.touches[0].clientX;
                    previousMouseY = e.touches[0].clientY;
                    e.preventDefault();
                }
            }
            
            function drag(e) {
                if (!isDragging) return;
                
                const deltaX = e.clientX - previousMouseX;
                const deltaY = e.clientY - previousMouseY;
                
                rotateY += deltaX * 0.5;
                rotateX -= deltaY * 0.3;
                
                // Track rotation for secret
                totalRotation += Math.abs(deltaX) * 0.5;
                if (totalRotation > 360 && !secretRevealed) {
                    revealSecret();
                }
                
                rotateX = Math.max(-60, Math.min(60, rotateX));
                updateRotation();
                
                previousMouseX = e.clientX;
                previousMouseY = e.clientY;
            }
            
            function dragTouch(e) {
                if (!isDragging || e.touches.length !== 1) return;
                
                const deltaX = e.touches[0].clientX - previousMouseX;
                const deltaY = e.touches[0].clientY - previousMouseY;
                
                rotateY += deltaX * 0.5;
                rotateX -= deltaY * 0.3;
                totalRotation += Math.abs(deltaX) * 0.5;
                
                if (totalRotation > 360 && !secretRevealed) {
                    revealSecret();
                }
                
                rotateX = Math.max(-60, Math.min(60, rotateX));
                updateRotation();
                
                previousMouseX = e.touches[0].clientX;
                previousMouseY = e.touches[0].clientY;
                e.preventDefault();
            }
            
            function stopDrag() {
                isDragging = false;
                chocolateContainer.style.cursor = 'grab';
            }
            
            function updateRotation() {
                chocolate3d.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            }
            
            // Bite Function
            chocolate3d.addEventListener('click', function(e) {
                if (bitesTaken >= totalBites) return;
                
                // Play sound
                if (soundEnabled) {
                    biteSound.currentTime = 0;
                    biteSound.play().catch(() => {});
                }
                
                // Update bite count
                bitesTaken++;
                biteCounter.textContent = totalBites - bitesTaken;
                
                // Create crumbs
                createCrumbs();
                
                // Update bite mask
                const biteHeight = 100 - (20 * bitesTaken);
                biteMask.style.clipPath = `polygon(0 0, 100% 0, 100% ${biteHeight}%, 0 ${biteHeight}%)`;
                
                // Bite animation
                chocolate3d.style.transform += ' scale(0.95)';
                setTimeout(() => {
                    updateRotation();
                }, 150);
                
                // Check if all bites taken
                if (bitesTaken >= totalBites) {
                    setTimeout(showMessage, 2000);
                }
                
                e.stopPropagation();
            });
            
            function createCrumbs() {
                for (let i = 0; i < 8; i++) {
                    const crumb = document.createElement('div');
                    crumb.className = 'crumb';
                    crumb.style.left = (20 + Math.random() * 60) + '%';
                    
                    // Random size
                    const size = 3 + Math.random() * 6;
                    crumb.style.width = size + 'px';
                    crumb.style.height = size + 'px';
                    
                    crumbsContainer.appendChild(crumb);
                    
                    // Animate
                    const duration = 0.5 + Math.random() * 0.5;
                    crumb.style.animation = `floatUp ${duration}s forwards`;
                    crumb.style.opacity = '1';
                    
                    // Remove after animation
                    setTimeout(() => {
                        if (crumb.parentNode) {
                            crumb.parentNode.removeChild(crumb);
                        }
                    }, duration * 1000);
                }
            }
            
            // Secret Reveal
            function revealSecret() {
                secretRevealed = true;
                secretBg.classList.add('active');
                secretText.classList.add('active');
                
                if (soundEnabled) {
                    secretSound.currentTime = 0;
                    secretSound.play().catch(() => {});
                    
                    setTimeout(() => {
                        romanticSound.currentTime = 0;
                        romanticSound.volume = 0.3;
                        romanticSound.play().catch(() => {});
                    }, 500);
                }
                
                // Add celebration hearts
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.className = 'heart';
                        heart.innerHTML = 'üíñ';
                        heart.style.left = '50%';
                        heart.style.fontSize = '40px';
                        heart.style.zIndex = '1000';
                        heart.style.color = '#ff4d8d';
                        document.body.appendChild(heart);
                        
                        setTimeout(() => {
                            if (heart.parentNode) {
                                heart.parentNode.removeChild(heart);
                            }
                        }, 2000);
                    }, i * 200);
                }
            }
            
            // Controls
            rotateBtn.addEventListener('click', function() {
                autoRotate = !autoRotate;
                rotateBtn.innerHTML = autoRotate ? 
                    '<i class="fas fa-pause"></i> Stop Rotate' : 
                    '<i class="fas fa-redo"></i> Auto Rotate';
                
                if (autoRotate) {
                    autoRotateAnimation();
                }
            });
            
            function autoRotateAnimation() {
                if (!autoRotate) return;
                
                rotateY += 0.5;
                totalRotation += 0.5;
                
                if (totalRotation > 360 && !secretRevealed) {
                    revealSecret();
                }
                
                updateRotation();
                requestAnimationFrame(autoRotateAnimation);
            }
            
            resetBtn.addEventListener('click', function() {
                rotateX = 15;
                rotateY = 0;
                updateRotation();
                
                chocolate3d.style.transition = 'transform 0.5s ease';
                setTimeout(() => {
                    chocolate3d.style.transition = 'transform 0.1s';
                }, 500);
            });
            
            soundBtn.addEventListener('click', function() {
                soundEnabled = !soundEnabled;
                soundBtn.innerHTML = soundEnabled ? 
                    '<i class="fas fa-volume-up"></i> Sound On' : 
                    '<i class="fas fa-volume-mute"></i> Sound Off';
            });
            
            // Popup Message
            function showMessage() {
                const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                popupMessage.textContent = randomMessage;
                popup.classList.add('active');
                
                if (soundEnabled) {
                    romanticSound.currentTime = 0;
                    romanticSound.volume = 0.4;
                    romanticSound.play().catch(() => {});
                }
            }
            
            closePopupBtn.addEventListener('click', function() {
                popup.classList.remove('active');
            });
            
            // Add float animation to crumbs
            const style = document.createElement('style');
            style.textContent = `
                @keyframes floatUp {
                    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                    100% { transform: translateY(-100px) rotate(180deg); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>